<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paróquia Nossa Senhora da Conceição - Virgínia/MG</title>
    <!-- Carrega o Tailwind CSS CDN para estilização --><script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configuração e Definição de Variáveis CSS para Temas --><script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Paleta Dark Mode (Suas cores definidas)
                        'parish-dark-base': '#0A1121', 
                        'parish-card-base': '#182040', 
                        'parish-gold': '#FFC759', 
                        'parish-red': '#E85555', 
                        'parish-soft-gray': '#BCC8D6', 
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        /* Variáveis CSS para gerenciar a transição de tema */
        :root {
            /* DARK MODE (Padrão) */
            --bg-primary: #0A1121;
            --bg-card: rgba(255, 255, 255, 0.08); /* Liquid Glass Effect */
            --color-primary: #BCC8D6; /* Cinza Suave (Texto principal) */
            --color-secondary: #0A1121; /* Usado no botão ativo (Dark) */
            --color-header: rgba(10, 17, 33, 0.9);
            --border-color: rgba(255, 255, 255, 0.15);
            --shadow-color: rgba(0, 0, 0, 0.25);
            --hover-bg: rgba(255, 255, 255, 0.03);
            --glass-blur: blur(12px);
        }

        /* LIGHT MODE */
        body.light-mode {
            --bg-primary: #F0F4F8; /* Light Gray/Blue */
            --bg-card: rgba(255, 255, 255, 0.8); /* Fundo branco mais sólido no light mode */
            --color-primary: #333C48; /* Dark Charcoal (Texto principal) */
            --color-secondary: #FFFFFF; /* Usado no botão ativo (White) */
            --color-header: rgba(240, 244, 248, 0.95);
            --border-color: rgba(0, 0, 0, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.1);
            --hover-bg: rgba(0, 0, 0, 0.05);
        }
        
        /* Estilos globais aplicados via variáveis */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary); 
            color: var(--color-primary); 
            transition: background-color 0.3s, color 0.3s;
        }

        .header-bar {
            background-color: var(--color-header) !important;
            backdrop-filter: var(--glass-blur); 
            -webkit-backdrop-filter: var(--glass-blur); 
        }

        .liquid-glass-card {
            background-color: var(--bg-card) !important;
            backdrop-filter: var(--glass-blur) !important;
            -webkit-backdrop-filter: var(--glass-blur) !important;
            border: 1px solid var(--border-color) !important;
            box-shadow: 0 6px 16px var(--shadow-color) !important;
        }

        .day-button {
            background-color: var(--hover-bg); 
            border: 1px solid var(--border-color);
        }
        .day-button:hover {
            background-color: var(--hover-bg) !important;
        }
        
        /* Manter as cores de destaque (Dourado/Vermelho) fixas */
        .nav-active {
            color: #FFC759 !important; 
            border-color: #FFC759 !important; 
        }
        .day-active {
            background-color: #FFC759 !important; 
            color: #0A1121 !important;
            border-color: #FFC759 !important;
        }
        .day-active .day-short-name {
            color: #0A1121 !important; 
        }
        .text-parish-soft-gray { color: var(--color-primary) !important; }
        .text-parish-gold { color: #FFC759 !important; }
        .text-parish-red { color: #E85555 !important; }

        /* Estilos de transição e responsividade */
        /* ... (mantidos do código anterior) */
        
        .day-button {
            transition: all 0.2s;
            min-width: 70px;
            margin-right: 8px;
            height: 70px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding-top: 8px;
            padding-bottom: 8px;
            border-radius: 1.5rem; /* Mais arredondado */
        }
        /* Estilo específico para o texto do dia da semana (secundário) */
        .day-short-name {
             font-size: 0.8rem;
             margin-top: 2px;
        }

        /* Garante que o carrossel E o Desktop Nav sejam scrollable */
        #day-carousel, #desktop-nav {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch; /* Melhora o scroll em iOS */
            /* CORREÇÃO VISUAL DA BARRA BRANCA */
            scrollbar-width: none;  /* Firefox */
            -ms-overflow-style: none;  /* IE and Edge */
        }
        /* Esconde a barra de scroll horizontal */
        #day-carousel::-webkit-scrollbar, #desktop-nav::-webkit-scrollbar {
            display: none;
        }
        
        /* Container das abas */
        #desktop-nav {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Estilo para o menu hambúrguer (mobile) */
        #mobile-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--color-header) !important; 
            backdrop-filter: blur(15px); 
            -webkit-backdrop-filter: blur(15px); 
            border-top: 1px solid var(--border-color);
            padding: 1rem 0;
            box-shadow: 0 4px 12px var(--shadow-color);
            border-radius: 0 0 1rem 1rem; /* Arredonda só em baixo */
        }
        .nav-link.tab-button {
            padding-bottom: 0.75rem; 
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }
        
        /* Novo estilo para garantir o alinhamento no mobile */
        .header-top-bar {
            /* Usando grid para centralização mais limpa no mobile */
            display: grid;
            grid-template-columns: 1fr auto 1fr; 
            align-items: center;
        }
        /* Centraliza o hambúrguer no mobile */
        #menu-toggle-wrapper {
            justify-self: center;
        }
        /* Alinha o nome da Paróquia à esquerda */
        #parish-name-block {
            justify-self: start;
        }
        /* Alinha o Ano Jubilar à direita */
        #jubilee-info-block {
            justify-self: end;
            text-align: right;
        }

        /* Alerta dinâmico no estilo glass */
        #dynamic-alert {
            background-color: rgba(232, 85, 85, 0.15); /* Fundo vermelho mais suave */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(232, 85, 85, 0.5); /* Borda vermelha */
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            padding: 1.5rem; /* Aumenta padding */
        }
        /* Garante que o conteúdo da lista interna da agenda tenha z-index e cor correta */
        #daily-agenda-list > div {
            z-index: 20; 
            color: var(--color-primary); 
        }
        /* Aumenta o espaçamento interno dos itens da agenda */
        .agenda-item-padding {
            padding-top: 1.25rem; /* py-5 */
            padding-bottom: 1.25rem; /* py-5 */
        }
        
        /* Efeito de Transição Suave (Fade-In) */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.4s ease-in-out;
        }

        /* ESTILO PARA O BOTÃO HOJE (FIXO) */
        #today-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 50;
            background-color: #FFC759; /* Dourado */
            color: #0A1121; /* Dark */
            padding: 10px 15px;
            border-radius: 9999px; /* Botão circular/pill */
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 199, 89, 0.6);
            transition: transform 0.2s;
        }
        #today-button:hover {
            transform: scale(1.05);
        }
        /* Toque Fino: Dia Litúrgico mais discreto */
        #liturgical-day {
            font-size: 1.125rem; /* text-lg */
        }
        
        /* ESTILO PARA O BOTÃO TEMA (FIXO - Canto Inferior Esquerdo) */
        #theme-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 50;
            background-color: var(--bg-card); /* Fundo de vidro */
            color: #FFC759; /* Ícone dourado */
            padding: 12px;
            border-radius: 50%;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 15px var(--shadow-color);
            transition: all 0.3s;
        }
        #theme-toggle:hover {
            background-color: var(--hover-bg);
            transform: scale(1.05);
        }

    </style>
</head>
<body class="text-parish-soft-gray"> <!-- CORREÇÃO: Cor de texto padrão no body --><header class="header-bar shadow-xl sticky top-0 z-[9999]"> 
        <div class="container mx-auto px-4 py-4 relative"> 
            <!-- Top Bar: Left (Name), Center (Menu), Right (Jubilee) --><div class="header-top-bar pb-4">
                
                <!-- 1. Name Block (LEFT) --><div id="parish-name-block" class="flex flex-col z-20">
                    <a href="#" class="text-xl font-extrabold text-parish-gold tracking-wider leading-none">PARÓQUIA</a>
                    <p class="text-xs text-parish-soft-gray leading-none">Nossa Senhora da Conceição - Virgínia-MG</p>
                </div>
                
                <!-- 2. Hamburger Icon (CENTER - only for mobile) --><div id="menu-toggle-wrapper" class="sm:hidden z-20">
                    <button id="menu-toggle" class="text-parish-soft-gray hover:text-parish-gold focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- 3. Jubilee Info (RIGHT) - COR RIGIDA PARA DOURADO --><div id="jubilee-info-block" class="z-20">
                    <p class="text-xs text-parish-soft-gray leading-none">Ano Jubilar</p>
                    <p class="text-base font-bold text-parish-gold leading-none">1866 – 2026</p>
                </div>
            </div>

            <!-- Mobile Menu Content (Aparece ao clicar no Hambúrguer) --><nav id="mobile-menu" class="hidden sm:hidden z-[9990]">
                <div class="flex flex-col space-y-2 text-base font-semibold">
                    <a href="#" class="nav-link tab-button py-2 px-4 hover:bg-white/10 rounded-lg text-parish-soft-gray" data-target="content-agenda">
                        <!-- ÍCONE: Agenda --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        AGENDA
                    </a>
                    <a href="#" class="nav-link tab-button py-2 px-4 hover:bg-white/10 rounded-lg text-parish-soft-gray" data-target="content-noticias">
                         <!-- ÍCONE: Notícias --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                        NOTÍCIAS
                    </a>
                    <!-- ORAÇÃO e HINO MERGEADOS em JUBILEU --><a href="#" class="nav-link tab-button py-2 px-4 hover:bg-white/10 rounded-lg text-parish-soft-gray" data-target="content-jubileu">
                        <!-- ÍCONE: Jubileu --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.447a1 1 0 011.902 0l1.545 4.04a1 1 0 00.957.697l4.314.385a1 1 0 01.558 1.706l-3.29 2.946a1 1 0 00-.285.928l.995 4.106a1 1 0 01-1.503 1.051l-3.793-2.31a1 1 0 00-1.042 0l-3.793 2.31a1 1 0 01-1.503-1.051l.995-4.106a1 1 0 00-.285-.928l-3.29-2.946a1 1 0 01.558-1.706l4.314-.385a1 1 0 00.957-.697l1.545-4.04z"></path></svg>
                        JUBILEU
                    </a>
                    <a href="#" class="nav-link tab-button py-2 px-4 hover:bg-white/10 rounded-lg text-parish-soft-gray" data-target="content-informacoes">
                        <!-- ÍCONE: Informações --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        INFORMAÇÕES
                    </a>
                    <a href="#" class="nav-link tab-button py-2 px-4 hover:bg-white/10 rounded-lg text-parish-soft-gray" data-target="content-contato">
                        <!-- ÍCONE: Contatos --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.14c-.9.45-1.97.94-2.227 1.144-.199.157-.367.31-.51.455.578.892 1.54 1.76 2.7 2.76.994.845 2.126 1.626 3.468 2.274.145.074.288.136.425.198.176.079.356.147.54.204.032.01.066.019.098.028a.5.5 0 00.082.029.5.5 0 00.082.029h.001a1 1 0 01.948-.684l1.498-4.493a1 1 0 011.21-.502l1.14-2.257c.45-.9-.94-1.97-1.144-2.227c-.157-.199-.31-.367-.455-.51l-.892.578c-.845.994-1.626 2.126-2.274 3.468-.074.145-.136.288-.198.425-.079.176-.147.356-.204.54a1 1 0 01-1.21.502L5 8.28V5z"></path></svg>
                        CONTATOS
                    </a>
                </div>
            </nav>

            <!-- Desktop Tab Navigation (Aparece apenas em Desktop/Tablet) - Scrollbar hidden --><nav class="overflow-x-auto whitespace-nowrap hidden sm:block" id="desktop-nav">
                <div class="inline-flex space-x-6 text-base font-semibold">
                    <!-- Abas replicadas para o Desktop --><a href="#" class="nav-link tab-button nav-active text-parish-gold border-b-2 border-parish-gold transition duration-300 flex items-center" data-target="content-agenda">
                        <!-- ÍCONE: Agenda --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        AGENDA
                    </a>
                    <a href="#" class="nav-link tab-button text-parish-soft-gray hover:text-parish-gold transition duration-300 flex items-center" data-target="content-noticias">
                         <!-- ÍCONE: Notícias --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
                        NOTÍCIAS
                    </a>
                    <!-- ORAÇÃO e HINO MERGEADOS em JUBILEU --><a href="#" class="nav-link tab-button text-parish-soft-gray hover:text-parish-gold transition duration-300 flex items-center" data-target="content-jubileu">
                        <!-- ÍCONE: Jubileu --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.447a1 1 0 011.902 0l1.545 4.04a1 1 0 00.957.697l4.314.385a1 1 0 01.558 1.706l-3.29 2.946a1 1 0 00-.285.928l.995 4.106a1 1 0 01-1.503 1.051l-3.793-2.31a1 1 0 00-1.042 0l-3.793 2.31a1 1 0 01-1.503-1.051l.995-4.106a1 1 0 00-.285-.928l-3.29-2.946a1 1 0 01.558-1.706l4.314-.385a1 1 0 00.957-.697l1.545-4.04z"></path></svg>
                        JUBILEU
                    </a>
                    <a href="#" class="nav-link tab-button text-parish-soft-gray hover:text-parish-gold transition duration-300 flex items-center" data-target="content-informacoes">
                        <!-- ÍCONE: Informações --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        INFORMAÇÕES
                    </a>
                    <a href="#" class="nav-link tab-button text-parish-soft-gray hover:text-parish-gold transition duration-300 flex items-center" data-target="content-contato">
                        <!-- ÍCONE: Contatos --><svg class="w-5 h-5 inline mr-2 align-middle" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.14c-.9.45-1.97.94-2.227 1.144-.199.157-.367.31-.51.455.578.892 1.54 1.76 2.7 2.76.994.845 2.126 1.626 3.468 2.274.145.074.288.136.425.198.176.079.356.147.54.204.032.01.066.019.098.028a.5.5 0 00.082.029.5.5 0 00.082.029h.001a1 1 0 01.948-.684l1.498-4.493a1 1 0 011.21-.502l1.14-2.257c.45-.9-.94-1.97-1.144-2.227c-.157-.199-.31-.367-.455-.51l-.892.578c-.845.994-1.626 2.126-2.274 3.468-.074.145-.136.288-.198.425-.079.176-.147.356-.204.54a1 1 0 01-1.21.502L5 8.28V5z"></path></svg>
                        CONTATOS
                    </a>
                </div>
            </nav>
        </div>
        
        <!-- DAY CAROUSEL CONTAINER (AGORA FIXO COM O HEADER E CONTROLADO PELO JS) --><div id="day-carousel-wrapper" class="hidden border-t border-gray-800 pt-4 pb-2">
            <div id="day-carousel" class="flex flex-row justify-start space-x-2 sm:space-x-4 mx-auto px-4 whitespace-nowrap max-w-7xl">
                <!-- Estes botões serão preenchidos via JavaScript --></div>
        </div>
    </header>

    <!-- CONTAINER PRINCIPAL DE CONTEÚDO (Controlado por JS) --><main class="container mx-auto px-4 py-10">
        
        <!-- ========================================================= --><!-- SEÇÃO 1: AGENDA (VISÍVEL POR PADRÃO) --><!-- ========================================================= --><section id="content-agenda" class="content-section mb-20 relative z-10">
            <h2 class="text-4xl font-bold text-center text-parish-gold mb-10">Agenda Mensal</h2>

            <!-- Alerta Dinâmico (Aviso de Missas fora da Matriz - Aparece 1 dia antes) --><div id="dynamic-alert" class="hidden p-4 rounded-lg mb-8 shadow-xl">
                <p class="font-bold text-parish-red flex items-center">
                    AVISO:
                </p>
                <!-- A mensagem será inserida aqui com o novo formato clean --><p id="alert-message" class="text-sm mt-1 text-parish-soft-gray"></p>
            </div>

            <!-- Título do Dia Selecionado + Dia Litúrgico --><h3 id="current-day-title" class="text-3xl font-extrabold text-center text-parish-soft-gray mb-2"></h3>
            <p id="liturgical-day" class="text-lg font-semibold text-center text-parish-soft-gray mb-8"></p> <!-- CORREÇÃO: Toque Fino, Litúrgico com texto menor --><div id="daily-agenda-list" class="liquid-glass-card space-y-0">
                <!-- Conteúdo da agenda será injetado aqui pelo JavaScript --></div>
            
        </section>


        <!-- ========================================================= --><!-- SEÇÃO 2: NOTÍCIAS (OCULTA POR PADRÃO) - NOVO CONTEÚDO --><!-- ========================================================= --><section id="content-noticias" class="content-section mb-20 hidden liquid-glass-card relative z-10">
            <h2 class="section-title text-4xl font-bold text-center text-parish-gold mb-10">Festa da Padroeira 2025</h2>
            
            <div class="text-center max-w-2xl mx-auto space-y-6">
                <p class="text-xl font-extrabold text-parish-soft-gray mb-4"> <!-- CORREÇÃO: Texto secundário usa Cinza Suave -->
                    Nossa Senhora da Conceição
                </p>

                <!-- NOVENA - Com fundo mais escuro para destaque no glass --><div class="bg-parish-dark p-6 rounded-2xl shadow-lg border-b-4 border-parish-gold">
                    <h3 class="text-2xl font-bold text-parish-gold mb-3">Solene Novena da Padroeira</h3>
                    <p class="text-lg text-parish-soft-gray font-semibold">
                        28 de Novembro a 7 de Dezembro
                    </p>
                    <p class="text-sm text-parish-soft-gray mt-2">
                        Venha participar de nove dias de intensa preparação espiritual em honra à Imaculada Conceição.
                    </p>
                    <p class="text-2xl font-extrabold text-parish-soft-gray mt-4">
                        TODOS OS DIAS: Santa Missa e Novena às 19:00h
                    </p>
                    <p class="text-sm text-parish-soft-gray italic mt-1"> <!-- CORREÇÃO: Azul de destaque substituído por Cinza Suave -->
                        (Na Igreja Matriz)
                    </p>
                </div>

                <!-- FESTA - Com fundo mais escuro para destaque no glass --><div class="bg-parish-dark p-6 rounded-2xl shadow-lg border-b-4 border-parish-soft-gray"> <!-- Borda Cinza Suave --><h3 class="text-2xl font-bold text-parish-gold mb-3">Dia Solene da Festa</h3>
                    <p class="text-xl text-parish-soft-gray font-semibold">
                        08 de Dezembro (Segunda-feira)
                    </p>
                    <div class="mt-4 space-y-3">
                        <p class="text-lg font-bold text-parish-soft-gray">
                            Santa Missa Solene: <span class="text-parish-gold">10:00h</span>
                        </p>
                        <p class="text-lg font-bold text-parish-soft-gray">
                            Procissão Solene e Santa Missa: <span class="text-parish-gold">19:00h</span>
                        </p>
                    </div>
                    <p class="text-sm text-parish-soft-gray italic mt-4"> <!-- CORREÇÃO: Azul de destaque substituído por Cinza Suave -->
                        Celebraremos a Fé de 160 anos!
                    </p>
                </div>

                <img src="https://placehold.co/400x150/1a2039/FFC759?text=Festa+da+Padroeira" alt="Placeholder para Festa da Padroeira" class="mx-auto mt-6 rounded-2xl shadow-md" onerror="this.onerror=null; this.src='https://placehold.co/400x150/1a2039/FFC759?text=Festa+da+Padroeira';" />
            </div>
        </section>

        <!-- ========================================================= --><!-- SEÇÃO 3: JUBILEU (AGORA INCLUI ORAÇÃO E HINO) --><!-- ========================================================= --><section id="content-jubileu" class="content-section mb-20 hidden liquid-glass-card relative z-10">
            <h2 class="section-title text-4xl font-bold text-center text-parish-gold mb-10">Ano Jubilar 160 Anos (1866 – 2026)</h2>

            <div class="space-y-12">
                <!-- 3.1: MENSAGEM PRINCIPAL -->
                <div class="text-center text-parish-soft-gray">
                    <p class="text-xl font-bold text-parish-gold">O Caminho Jubilar Continua!</p> <!-- CORREÇÃO: Destaque principal agora é Dourado -->
                    <p class="mt-4">Prepare-se para as celebrações especiais dos 160 anos de fé da nossa Paróquia.</p>
                    <p class="mt-2 text-sm">Abertura oficial: 15 de Novembro (verifique na agenda).</p>
                    <img src="https://placehold.co/400x150/1a2039/FFC759?text=Jubileu+160+Anos" alt="Placeholder para Jubileu" class="mx-auto mt-6 rounded-2xl shadow-md" onerror="this.onerror=null; this.src='https://placehold.co/400x150/1a2039/FFC759?text=Jubileu+160+Anos';" />
                </div>

                <!-- 3.2: ORAÇÃO DO JUBILEU (Conteúdo da antiga aba ORAÇÃO) -->
                <div class="max-w-xl mx-auto border-t border-b border-white/10 pt-8 pb-8 space-y-4">
                    <h3 class="text-3xl font-extrabold text-center text-parish-gold mb-6">Oração do Jubileu</h3>
                    <p class="text-lg text-parish-soft-gray">
                        <strong class="text-parish-gold block mb-2">ANOS JUBILAR: 1866 – 2026</strong> <!-- CORREÇÃO: Título secundário do Jubileu é Dourado -->
                    </p>
                    <p class="text-lg leading-relaxed">
                        Deus Todo-poderoso, Senhor do Tempo e da História, a Ti elevamos nossa voz neste Ano de Graça.
                    </p>
                    <p class="text-lg leading-relaxed">
                        Somos herdeiros de 160 anos de fé que não se dobrou, e Te bendizemos por cada vida iluminada, por cada Sacramento que fez este Templo pulsar com a força do Teu Reino.
                    </p>
                    <p class="text-lg leading-relaxed font-semibold text-parish-gold">
                        Senhor Jesus Cristo, Fonte Eterna de Misericórdia, concede-nos viver este Jubileu com coração renovado.
                    </p>
                    <p class="text-lg leading-relaxed">
                        Purifica-nos. Reconcilia-nos. Reergue-nos na luz da Tua Ressurreição, para que sejamos um só povo, firme e ardente na fé.
                    </p>
                    <p class="text-lg leading-relaxed">
                        Que a memória dos que vieram antes de nós seja chama que não se apaga e nos impulsione a levar o Evangelho com coragem, esperança e verdade.
                    </p>
                    <p class="text-lg leading-relaxed font-semibold text-parish-gold">
                        Nossa Senhora da Conceição, Mãe e Padroeira, estrela que guia os passos desta Paróquia, intercede por nós.
                    </p>
                    <p class="text-lg leading-relaxed">
                        Guarda-nos no Teu manto, inspira-nos com o Teu "Sim" e conduz-nos a uma nova primavera espiritual.
                    </p>
                    <p class="text-lg leading-relaxed">
                        Pai santo, recebe este Jubileu como oferta viva, para Tua glória e para a salvação das almas.
                    </p>
                    <p class="text-lg leading-relaxed">
                        Por nosso Senhor Jesus Cristo, vosso Filho, que é Deus, e contigo vive e reina, na unidade do Espírito Santo, por todos os séculos dos séculos.
                    </p>
                    <p class="text-2xl font-extrabold text-parish-gold mt-6">Amém.</p> <!-- CORREÇÃO: Amém em Dourado -->
                </div>

                <!-- 3.3: HINO DO JUBILEU (Conteúdo da antiga aba HINO) -->
                <div class="max-w-xl mx-auto pt-4 space-y-6">
                    <h3 class="text-3xl font-extrabold text-center text-parish-gold mb-6">Hino do Jubileu</h3>
                    <p class="text-lg text-parish-soft-gray">
                        <strong class="text-parish-gold block mb-2">Paróquia Nossa Senhora da Conceição - Virgínia-MG</strong> <!-- CORREÇÃO: Título secundário do Jubileu é Dourado -->
                        <span class="block text-sm text-parish-soft-gray">ANO JUBILAR: 1866 – 2026</span>
                    </p>
                    
                    <div class="text-lg leading-relaxed space-y-4 text-parish-soft-gray">
                        <p>
                            Aqui nesta terra, ornada de serra,<br>
                            Coberta pelo céu azul anil,<br>
                            Nasceu nossa fé, que o tempo não encerra,<br>
                            Abençoando este chão do Brasil.<br>
                            Nesta alvorada bendita e festiva,<br>
                            A semente de Cristo cresceu,<
                            E é a vossa presença, ó Mãe compassiva,<br>
                            Nossa Paróquia edificou.
                        </p>
                        <p class="font-extrabold text-parish-gold">
                            Soberana da pátria celeste,<br>
                            Velai por Virgínia querida;<br>
                            Nossa Paróquia em festa celebra<br>
                            O jubileu de cento e sessenta anos de história!
                        </p>
                        <p>
                            Gerações que aqui receberam<br>
                            o santo batismo e a união,<br>
                            Em cada jornada da vida souberam<br>
                            Buscar em Vós consolação.<br>
                            As preces dos filhos que aqui cresceram<br>
                            Sustentam a força da missão,<br>
                            E o amor que em Cristo sempre viveram<br>
                            Guia firme todo o coração.
                        </p>
                        <p class="font-extrabold text-parish-gold">
                            Soberana da pátria celeste,<br>
                            Velai por Virgínia querida;<br>
                            Nossa Paróquia em festa celebra<br>
                            O jubileu de cento e sessenta anos de história!
                        </p>
                        <p>
                            Que a fé que herdamos acesa<br>
                            Nos guarde em Vós, fortaleza.<br>
                            Que a nossa Paróquia seja<br>
                            Sinal de esperança e fé.<br>
                            E que o Evangelho, nossa luz,<br>
                            Nos leve sempre ao Cristo Jesus.
                        </p>
                        <p class="font-extrabold text-parish-gold">
                            Soberana da pátria celeste,<br>
                            Velai por Virgínia querida;<br>
                            Nossa Paróquia em festa celebra<br>
                            O jubileu de cento e sessenta anos de história!
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ========================================================= --><!-- SEÇÃO 4: INFORMAÇÕES (OCULTA POR PADRÃO) --><!-- ========================================================= --><section id="content-informacoes" class="content-section mb-20 hidden liquid-glass-card relative z-10">
            <h2 class="section-title text-4xl font-bold text-center text-parish-gold mb-10">Informações e História de Fé</h2>
            
            <div class="md:flex md:space-x-8 items-center">
                <div class="md:w-1/2">
                    <p class="mb-4 text-lg leading-relaxed text-parish-soft-gray">
                        A história da Paróquia Nossa Senhora da Conceição, em Virgínia/MG, remonta à segunda metade do século XIX, sendo oficialmente <strong class="text-parish-gold">criada em 15 de novembro de 1866</strong>. <!-- CORREÇÃO: Destaque para Cinza Suave ou Dourado -->
                    </p>
                    <p class="mb-4 text-lg leading-relaxed text-parish-soft-gray">
                        O marco inicial foi a passagem do <strong class="text-parish-gold">Padre Custódio de Oliveira Monte-Raso</strong>, que, sensibilizado pela distância que os moradores tinham que percorrer até a freguesia de Pouso Alto, sugeriu a construção de uma capela.
                    </p>
                    <p class="mb-4 text-lg leading-relaxed text-parish-soft-gray">
                        Em um ato de profunda devoção, os fazendeiros Diogo José Labat Uchôas e Francisco Ribeiro Pires doaram terras para a edificação do templo. A capela foi dedicada à <strong class="text-parish-gold">Nossa Senhora da Conceição</strong>, e a nova povoação recebeu o nome de **"Virgínea"** (que mais tarde se tornou Virgínia), uma homenagem à Virgem Santíssima e em alusão à mata virgem que cobria o local.
                    </p>
                    <p class="text-lg font-semibold text-parish-gold mt-4">
                        Somos uma comunidade de fé com mais de 150 anos de história, filiada à Diocese de Campanha.
                    </p>
                </div>
                <div class="md:w-1/2 mt-8 md:mt-0">
                    <!-- Placeholder para ícone ou imagem histórica --><img src="https://placehold.co/600x400/93c5fd/1e40af?text=Virgem+Imaculada" 
                        alt="Imagem de Nossa Senhora da Conceição ou brasão paroquial" 
                        class="w-full h-auto object-cover rounded-2xl shadow-xl border-4 border-parish-gold"
                        onerror="this.onerror=null; this.src='https://placehold.co/600x400/93c5fd/1e40af?text=S%C3%ADmbolo+de+Maria';"
                    />
                </div>
            </div>
        </section>

        <!-- ========================================================= --><!-- SEÇÃO 5: CONTATO (OCULTA POR PADRÃO) - REVITALIZADA --><!-- ========================================================= --><section id="content-contato" class="content-section mb-16 hidden liquid-glass-card relative z-10">
            <h2 class="section-title text-4xl font-bold text-center text-parish-gold mb-10">Contatos, Secretaria e Liderança</h2>

            <div class="space-y-8">
                <!-- Card 1: Liderança Clerical (Padres) --><div class="liquid-glass-card">
                    <!-- Conteúdo do card é a Liderança Clerical --><div class="grid grid-cols-1 md:grid-cols-2 gap-6 pt-2">
                        <div>
                            <p class="text-lg font-medium text-parish-soft-gray">Administrador Paroquial:</p>
                            <p class="text-xl font-extrabold text-parish-gold mt-1">Pe. Érick de Oliveira e Silva</p> <!-- CORREÇÃO: Títulos de liderança usam Dourado -->
                        </div>
                        <div>
                            <p class="text-lg font-medium text-parish-soft-gray">Vigário Paroquial:</p>
                            <p class="text-xl font-extrabold text-parish-gold mt-1">Pe. Edimilson Luiz Ribeiro, SF</p> <!-- CORREÇÃO: Títulos de liderança usam Dourado -->
                        </div>
                    </div>
                </div>

                <!-- Card 2: Informações da Secretaria - Telefones Corrigidos --><div class="liquid-glass-card">
                    <h3 class="text-2xl font-bold mb-4 text-parish-gold border-b border-gray-700 pb-2">Secretaria Paroquial</h3>
                    <div class="space-y-3 text-lg text-parish-soft-gray">
                        <p class="font-medium">
                            <span class="text-parish-gold pr-2">Endereço:</span> Praça Cônego Monte Raso, nº 304, Virgínia/MG
                        </p>
                        <!-- NOVO TELEFONE FIXO COM RAMAL --><p class="font-medium">
                            <span class="text-parish-gold pr-2">Telefone (Fixo):</span> <a href="tel:+553532611217" class="text-parish-soft-gray hover:underline">(35) 3261-1217 ramal 8007</a>
                        </p>
                        <!-- WHATSAPP ATUALIZADO E CLICÁVEL (SUGESTÃO IMPLEMENTADA) --><p class="font-medium">
                            <span class="text-parish-gold pr-2">WhatsApp:</span> <a href="https://wa.me/553533731397" target="_blank" class="text-parish-soft-gray hover:underline">(35) 3373-1397</a>
                        </p>
                        <!-- E-MAIL COM QUEBRA DE PALAVRA FORÇADA (CORREÇÃO) --><p class="font-medium break-words">
                            <span class="text-parish-gold pr-2">E-mail:</span> <a href="mailto:paroquiavirginia@yahoo.com.br" class="text-parish-soft-gray hover:underline">paroquiavirginia@yahoo.com.br</a> <!-- O link usa Cinza Suave -->
                        </p>
                    </div>
                </div>

                <!-- Card 3: Localização (Mapa) --><div class="liquid-glass-card p-0 overflow-hidden">
                    <h3 class="text-2xl font-bold mb-4 text-parish-gold border-b border-gray-700 p-6 pb-2">Onde nos Encontrar (Igreja Matriz)</h3>
                    <div class="rounded-xl overflow-hidden shadow-xl mt-4">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d14820.751688647575!2d-45.05068225!3d-22.3804812!2m3!1f0!2f0!0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94c9794d216d7a4b%3A0x8670c53d6199f1a0!2sVirg%C3%ADnia%2C%20MG%2C%2037465-000!5e0!3m2!1spt-BR!2sbr!4v1700684200000!5m2!1spt-BR!2sbr" 
                            width="100%" 
                            height="300" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            title="Localização de Virgínia, MG">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <!-- Botão Flutuante HOJE (SUGESTÃO IMPLEMENTADA) -->
    <button id="today-button" onclick="loadDailyAgenda('24-Nov')" class="text-sm">
        HOJE <span class="text-base font-extrabold">24/NOV</span>
    </button>
    
    <!-- Botão Flutuante TEMA (SUGESTÃO ATUAL) -->
    <button id="theme-toggle">
        <!-- Ícone Sol (Modo Claro) / Lua (Modo Escuro) -->
        <svg id="theme-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
        </svg>
    </button>

    <!-- Footer --><footer class="bg-gray-900 text-parish-soft-gray py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">&copy; 2025 Paróquia Nossa Senhora da Conceição, Virgínia/MG. Todos os direitos reservados.</p>
            <p class="text-sm">Desenvolvido por: Emanuel Uchôas</p>
        </div>
    </footer>

    <!-- Script para o Menu Mobile, Navegação por Abas e Agenda Dinâmica --><script>
        // Variável GLOBAL para rastrear o dia ativo.
        let activeDay = '23-Nov'; 
        const todayKey = '24-Nov'; // Dia de HOJE para o botão de atalho

        // Definição de Cores para o ícone do tema
        const MoonIcon = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>`;
        const SunIcon = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>`;
        
        // ===============================================
        // FUNÇÃO DE TROCA DE TEMA (DARK/LIGHT MODE)
        // ===============================================
        function toggleTheme() {
            const body = document.body;
            const isLight = body.classList.toggle('light-mode');
            const themeIcon = document.getElementById('theme-icon');

            if (isLight) {
                localStorage.setItem('theme', 'light');
                themeIcon.innerHTML = MoonIcon; // Quando está CLARO, mostra a Lua para VOLTAR ao escuro
            } else {
                localStorage.setItem('theme', 'dark');
                themeIcon.innerHTML = SunIcon; // Quando está ESCURO, mostra o Sol para IR ao claro
            }
        }
        
        // ===============================================
        // LÓGICA DE AGENDA E DADOS (Mantida)
        // ===============================================

        const dailyAgendaData = {
            // ===================================
            // NOVEMBRO (23 a 30)
            // ===================================
            '23-Nov': {
                dayName: 'DOMINGO',
                liturgical: 'SOLENIDADE de Cristo Rei do Universo', 
                dateStr: '23/Nov',
                events: [
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '07:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '09:00', church: 'Matriz', color: 'parish-gold' }, 
                    { title: 'Santa Missa Setor 3', subtitle: 'Bairro Mendanha', time: '09:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '10:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Primeira Eucaristia', subtitle: 'Igreja Matriz', time: '15:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Santa Missa Setor 1', subtitle: 'Bairro Retirinho', time: '18:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' },
                ]
            },
            '24-Nov': {
                dayName: 'SEGUNDA-FEIRA',
                liturgical: 'Segunda-feira da 34ª Semana do Tempo Comum', 
                dateStr: '24/Nov',
                events: [
                    { title: 'Visita às obras', subtitle: '', time: '09:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Santa Missa', subtitle: 'Sagrado Coração', time: '18:00', church: 'External', color: 'parish-red' }, 
                    { title: 'Formação MESC', subtitle: '', time: '19:00', church: 'External', color: 'parish-red' }, 
                ]
            },
            '25-Nov': {
                dayName: 'TERÇA-FEIRA',
                liturgical: 'Terça-feira da 34ª Semana do Tempo Comum', 
                dateStr: '25/Nov',
                events: [
                    { title: 'Atendimento', subtitle: '', time: '09:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Atendimento', subtitle: '', time: '14:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Santa Missa Setor 4', subtitle: 'Bairro Pereiras', time: '19:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa Setor 7', subtitle: 'Bairro Rio Acima II', time: '19:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Reunião Setor 7', subtitle: '', time: '20:00', church: 'External', color: 'parish-red' }, 
                ]
            },
            '26-Nov': { 
                dayName: 'QUARTA-FEIRA',
                liturgical: 'Memória de São Nicolau Tavelić e Companheiros, Mártires', 
                dateStr: '26/Nov',
                events: [
                    { title: 'Atendimento', subtitle: '', time: '09:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Santa Missa Setor 1', subtitle: 'Bairro Mendes', time: '19:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa Setor 4', subtitle: 'Bairro Água Limpa', time: '19:00', church: 'Comunidade', color: 'parish-soft-gray' },
                ]
            },
            '27-Nov': { 
                dayName: 'QUINTA-FEIRA',
                liturgical: 'Memória de Nossa Senhora das Graças e da Medalha Milagrosa', 
                dateStr: '27/Nov',
                events: [
                    { title: 'Procissão', subtitle: 'Saindo da Igreja Matriz (até Pedra Santa)', time: '04:30', church: 'External', color: 'parish-red' }, 
                    { title: 'Santa Missa', subtitle: 'Pedra Santa (logo após a Procissão)', time: '05:00', church: 'External', color: 'parish-red' }, 
                    { title: 'Santa Missa', subtitle: 'Abrigo São Camilo', time: '09:00', church: 'External', color: 'parish-red' }, 
                    { title: 'Atendimento', subtitle: '', time: '14:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Confissão', subtitle: 'Igreja Matriz', time: '17:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Adoração', subtitle: 'Igreja Matriz', time: '18:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Santa Missa Setor 1', subtitle: 'Bairro Muquém', time: '19:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' },
                ]
            },
            '28-Nov': {
                dayName: 'SEXTA-FEIRA',
                liturgical: '1º Dia da Novena | Memória de São Tiago da Marca, Presbítero', 
                dateStr: '28/Nov',
                events: [
                    { title: 'Atendimento', subtitle: '', time: '09:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Atendimento', subtitle: '', time: '14:00', church: 'Atendimento', color: 'parish-soft-gray' }, 
                    { title: 'Santa Missa Setor 7', subtitle: 'Bairro Vargem Alegre', time: '19:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Primeiro dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }, 
                ]
            },
            '29-Nov': {
                dayName: 'SÁBADO',
                liturgical: '2º Dia da Novena | Nossa Senhora no Sábado (Memória Facultativa)', 
                dateStr: '29/Nov',
                events: [
                    { title: 'Casamento', subtitle: 'Igreja Matriz', time: '11:00', church: 'Matriz', color: 'parish-soft-gray' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '16:00', church: 'Matriz', color: 'parish-gold' }, 
                    { title: 'Santa Missa Setor 7', subtitle: 'Bairro Roseirinha', time: '16:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Segundo dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }, 
                ]
            },
            '30-Nov': {
                dayName: 'DOMINGO',
                liturgical: '3º Dia da Novena | 1º DOMINGO DO ADVENTO',
                dateStr: '30/Nov',
                events: [
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '07:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '09:00', church: 'Matriz', color: 'parish-gold' }, 
                    { title: 'Santa Missa Setor 7', subtitle: 'Bairro Retiro dos Marins', time: '09:30', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa Setor 1', subtitle: 'Bairro Palmeiras', time: '11:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Santa Missa Setor 5', subtitle: 'Bairro Roseira', time: '18:00', church: 'Comunidade', color: 'parish-soft-gray' },
                    { title: 'Terceiro dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }, 
                ]
            },
            // ===================================
            // DEZEMBRO (1 a 8)
            // ===================================
            '01-Dec': {
                dayName: 'SEGUNDA-FEIRA',
                liturgical: '4º Dia da Novena | São Remígio, Bispo (Memória)', 
                dateStr: '01/Dez',
                events: [
                    { title: 'Quarto dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '02-Dec': {
                dayName: 'TERÇA-FEIRA',
                liturgical: '5º Dia da Novena | 1ª Semana do Advento', 
                dateStr: '02/Dez',
                events: [
                    { title: 'Quinto dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '03-Dec': {
                dayName: 'QUARTA-FEIRA',
                liturgical: '6º Dia da Novena | São Francisco Xavier, Presbítero (Memória)', 
                dateStr: '03/Dez',
                events: [
                    { title: 'Sexto dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '04-Dec': {
                dayName: 'QUINTA-FEIRA',
                liturgical: '7º Dia da Novena | São João Damasceno, Presbítero e Doutor (Memória)', 
                dateStr: '04/Dez',
                events: [
                    { title: 'Sétimo dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '05-Dec': {
                dayName: 'SEXTA-FEIRA',
                liturgical: '8º Dia da Novena | Semana do Advento', 
                dateStr: '05/Dez',
                events: [
                    { title: 'Oitavo dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '06-Dec': {
                dayName: 'SÁBADO',
                liturgical: '9º Dia da Novena | São Nicolau, Bispo (Memória)', 
                dateStr: '06/Dez',
                events: [
                    { title: 'Nono dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '07-Dec': {
                dayName: 'DOMINGO',
                liturgical: 'VÉSPERA DA FESTA | 2º DOMINGO DO ADVENTO', 
                dateStr: '07/Dez',
                events: [
                    // Missas diurnas da Matriz mantidas
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '07:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Santa Missa', subtitle: 'Igreja Matriz', time: '09:00', church: 'Matriz', color: 'parish-gold' },
                    // Novena final
                    { title: 'Último dia da Novena', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            },
            '08-Dec': {
                dayName: 'SEGUNDA-FEIRA',
                liturgical: 'SOLENIDADE da Imaculada Conceição de Nossa Senhora', 
                dateStr: '08/Dez',
                events: [
                    { title: 'Santa Missa Solene', subtitle: 'Igreja Matriz', time: '10:00', church: 'Matriz', color: 'parish-gold' },
                    { title: 'Procissão Solene e Santa Missa', subtitle: 'Igreja Matriz', time: '19:00', church: 'Matriz', color: 'parish-gold' }
                ]
            }
        };

        // Arrays para nomes de dias e meses (em português)
        const dayNamesFull = ['DOMINGO', 'SEGUNDA-FEIRA', 'TERÇA-FEIRA', 'QUARTA-FEIRA', 'QUINTA-FEIRA', 'SEXTA-FEIRA', 'SÁBADO'];
        const dayNamesShort = ['DOM', 'SEG', 'TER', 'QUA', 'QUI', 'SEX', 'SÁB'];
        
        // Retorna o dia da semana completo e curto e o dia do mês
        function getDayInfo(key) {
            const [dayNum, monthStr] = key.split('-');
            const year = 2025; // Ano de referência
            const month = { 'Nov': 10, 'Dec': 11 }[monthStr]; // Mês base 0 (Nov = 10, Dec = 11)
            
            const date = new Date(year, month, parseInt(dayNum));
            const dayIndex = date.getDay();

            return {
                day: dayNum,
                month: monthStr,
                full: dayNamesFull[dayIndex],
                short: dayNamesShort[dayIndex],
                dateObj: date
            };
        }

        // Função para mostrar o alerta (Aviso de Missa ou Novena em local EXTERNO, um dia antes)
        function checkAndShowAlert(currentDayKey) {
            const alertContainer = document.getElementById('dynamic-alert');
            const alertMessage = document.getElementById('alert-message');
            
            // Encontra a chave do dia seguinte
            const keys = Object.keys(dailyAgendaData);
            const currentIndex = keys.indexOf(currentDayKey);
            
            if (currentIndex === -1 || currentIndex >= keys.length - 1) {
                alertContainer.classList.add('hidden');
                return;
            }

            const tomorrowKey = keys[currentIndex + 1];
            const tomorrowData = dailyAgendaData[tomorrowKey];
            
            let upcomingEvents = [];

            if (tomorrowData) {
                // FILTRO AJUSTADO: Apenas eventos EXTERNAL que NÃO são 'Abrigo', 'Reunião' ou 'Formação'
                upcomingEvents = tomorrowData.events.filter(event => 
                    event.church === 'External' && 
                    !event.title.includes('Reunião') &&     // Exclui Reuniões
                    !event.title.includes('Formação') &&    // Exclui Formações
                    !event.subtitle.includes('Abrigo São Camilo') // Exclui Missa no Abrigo
                );
            }

            if (upcomingEvents.length > 0) {
                let message = '';
                
                // === LÓGICA EXTREMAMENTE DIRETA DO SENHOR SUPREMO ===
                if (tomorrowKey === '24-Nov') {
                     // Regra Específica para 24/Nov (amanhã, quando em 23/Nov)
                     message = `<span class="text-parish-soft-gray">24/Nov: 18:00 Santa Missa na Igreja do Sagrado Coração</span>`;
                } else {
                     // Lógica genérica clean (para outros dias com eventos externos)
                     upcomingEvents.forEach(event => {
                        // Formato: DD/Mês: HH:MM Título no Local
                        const dateStr = tomorrowData.dateStr;
                        const location = event.subtitle.includes('Saindo da Igreja Matriz') ? 'Saindo da Matriz' : (event.subtitle || event.church);
                        
                        message += `<span class="text-parish-soft-gray">${dateStr}: ${event.time} ${event.title} (${location})</span><br>`;
                     });
                     message = message.slice(0, -4); // Remove a última tag <br>
                }
                
                alertMessage.innerHTML = message;
                alertContainer.classList.remove('hidden');
            } else {
                alertContainer.classList.add('hidden');
            }
        }


        // FUNÇÃO RENOMEADA: Função principal para renderizar a agenda diária
        function renderAgendaDay(dayKey) {
            // ATUALIZA O DIA ATIVO GLOBAL
            activeDay = dayKey; 

            const data = dailyAgendaData[dayKey];
            const listContainer = document.getElementById('daily-agenda-list');
            const dayTitle = document.getElementById('current-day-title');
            const liturgicalDay = document.getElementById('liturgical-day');
            
            // 1. Checa e mostra o alerta para o dia seguinte
            checkAndShowAlert(dayKey);

            // 2. Transição Suave (Fade-In)
            // Remove a classe para resetar a animação (garante que ela rode a cada clique)
            listContainer.classList.remove('fade-in'); 
            // Força um reflow síncrono para garantir que a classe foi removida antes de readicionar
            void listContainer.offsetWidth; 
            
            // 3. Limpa e atualiza o conteúdo da agenda
            listContainer.innerHTML = '';
            liturgicalDay.innerHTML = '';

            if (!data || data.events.length === 0) {
                dayTitle.innerHTML = `<span class="text-parish-gold">Dia ${dayKey.split('-')[0]}</span>, Sem Eventos Agendados`;
                listContainer.innerHTML = `<p class="text-center text-parish-soft-gray py-8">Não há programação pública para este dia.</p>`;
                
            } else {
                dayTitle.innerHTML = `<span class="text-parish-gold">${data.dayName}</span>, ${data.dateStr}`;
                
                // Adiciona o dia litúrgico
                if (data.liturgical) {
                    // Toque Fino: O Litúrgico usa a classe de tamanho menor (text-lg) definida no CSS
                    liturgicalDay.innerHTML = data.liturgical;
                }

                data.events.sort((a, b) => a.time.localeCompare(b.time)); // Ordena por horário
                
                data.events.forEach((event, index) => {
                    // Determina as cores com base no campo 'color'
                    const timeColorClass = event.color.startsWith('text-') ? event.color : `text-${event.color}`;
                    // Garante que o título do evento interno não desapareça (usa text-parish-soft-gray/parish-gold para os títulos)
                    const titleColorClass = event.color === 'parish-gold' ? 'text-parish-gold' : 'text-parish-soft-gray';
                    
                    // Cria o elemento do item da agenda
                    const itemDiv = document.createElement('div');
                    // Usando a classe agenda-item-padding para mais espaço
                    itemDiv.className = `flex justify-between items-start agenda-item-padding ${index < data.events.length - 1 ? 'border-b border-gray-700' : ''}`;
                    
                    // Renderização aprimorada: só inclui a tag de subtítulo se houver subtítulo
                    itemDiv.innerHTML = `
                        <div class="flex-grow pr-4">
                            <p class="text-xl font-bold ${titleColorClass}">${event.title}</p>
                            ${event.subtitle ? `<p class="text-sm text-parish-soft-gray italic">${event.subtitle}</p>` : ''}
                        </div>
                        <span class="text-3xl font-extrabold ${timeColorClass}">${event.time}</span>
                    `;
                    
                    listContainer.appendChild(itemDiv);
                });
            }

            // 4. Aplica o Fade-In após a injeção do conteúdo
            listContainer.classList.add('fade-in'); 
            
            // 5. Atualiza o carrossel de dias (ativa o botão clicado e rola)
            document.querySelectorAll('.day-button-date').forEach(btn => {
                btn.classList.remove('day-active');
            });
            const activeDayButton = document.getElementById(`day-${dayKey}`);
            if(activeDayButton) {
                activeDayButton.classList.add('day-active');
                
                // Rola o carrossel para centralizar o dia ativo
                const carouselContainer = document.getElementById('day-carousel');
                if (carouselContainer) { // Adicionado check de segurança
                    setTimeout(() => {
                        const offset = activeDayButton.offsetLeft - (carouselContainer.offsetWidth / 2) + (activeDayButton.offsetWidth / 2);
                        carouselContainer.scroll({
                            left: offset,
                            behavior: 'smooth'
                        });
                    }, 50); // Pequeno delay para garantir que o layout esteja pronto
                }
            }
        }

        // Função para construir o carrossel de dias
        function buildDayCarousel() {
            const carouselContainer = document.getElementById('day-carousel');
            carouselContainer.innerHTML = ''; // Limpa o carrossel
            
            const dayKeys = Object.keys(dailyAgendaData);

            dayKeys.forEach(key => {
                const info = getDayInfo(key);
                
                const button = document.createElement('button');
                button.id = `day-${key}`;
                button.className = 'day-button day-button-date text-center p-3 sm:p-4 rounded-xl bg-parish-card text-parish-soft-gray font-semibold hover:bg-white/10 transition duration-200';
                button.dataset.day = key; 
                
                // Usa o dia e a abreviação da semana
                // Nota: O texto do dia da semana (span class="day-short-name") herda a cor do botão, que é parish-soft-gray
                button.innerHTML = `
                    <span class="block text-xl">${info.day}</span>
                    <span class="day-short-name block transition-colors">${info.short}</span>
                `;
                
                carouselContainer.appendChild(button);
            });
        }


        // Função para mostrar a seção de conteúdo desejada
        function showSection(targetId) {
            
            // Esconde todas as seções (prepara para a transição)
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
                section.classList.remove('fade-in'); // Remove a classe de animação
            });
            
            // Fecha o menu mobile quando uma opção é selecionada
            document.getElementById('mobile-menu').classList.add('hidden');

            // Atualiza a navegação ativa
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('nav-active', 'border-b-2', 'border-parish-gold', 'text-parish-gold');
                button.classList.add('text-parish-soft-gray'); // Usa cinza suave para inativos
            });

            // Mostra a seção desejada e aplica o fade-in
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                // Aplica o fade-in logo após remover o 'hidden'
                targetSection.classList.add('fade-in'); 
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }

            // Ativa o link da aba clicada
            document.querySelectorAll(`[data-target="${targetId}"]`).forEach(button => {
                button.classList.add('nav-active', 'text-parish-gold', 'border-b-2', 'border-parish-gold');
                button.classList.remove('text-parish-soft-gray'); // Remove o cinza suave ao ativar
            });
            
            const dayCarouselWrapper = document.getElementById('day-carousel-wrapper');
            
            // CORREÇÃO CRUCIAL: Mostrar/Esconder o Carrossel de Dias e chamar o renderizador
            if (targetId === 'content-agenda') {
                dayCarouselWrapper.classList.remove('hidden'); // MOSTRA
                buildDayCarousel();
                renderAgendaDay(activeDay); // CHAMA A FUNÇÃO RENOMEADA
            } else {
                dayCarouselWrapper.classList.add('hidden'); // ESCONDE
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // Lógica para toggle do menu hambúrguer
            document.getElementById('menu-toggle').addEventListener('click', () => {
                document.getElementById('mobile-menu').classList.toggle('hidden');
            });

            // Adicionar listener para o botão de tema
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);

            // 1. Lógica de inicialização de tema (lê a preferência salva)
            const savedTheme = localStorage.getItem('theme');
            const themeIcon = document.getElementById('theme-icon');
            if (savedTheme === 'light') {
                document.body.classList.add('light-mode');
                themeIcon.innerHTML = MoonIcon;
            } else {
                // Padrão é dark
                document.body.classList.remove('light-mode');
                themeIcon.innerHTML = SunIcon;
            }
            
            // O dia de hoje (23/Nov) é o novo ponto de partida.
            const initialDayKey = '23-Nov'; 

            // Inicializa a variável de estado global
            activeDay = initialDayKey;
            
            // 2. Lógica de Navegação por Abas (Clique)
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = button.getAttribute('data-target');
                    showSection(targetId);
                });
            });

            // 3. Lógica de Navegação do Carrossel de Dias (DELEGAÇÃO DE EVENTOS)
            document.getElementById('day-carousel-wrapper').addEventListener('click', (e) => {
                const dayButton = e.target.closest('.day-button-date');
                if (dayButton && dayButton.dataset.day) {
                    renderAgendaDay(dayButton.dataset.day); // CHAMA A FUNÇÃO RENOMEADA
                }
            });

            // 4. Monta o carrossel e carrega a agenda do dia de hoje (23)
            buildDayCarousel();
            // A chamada inicial é tratada por showSection, mas a lógica abaixo garante o estado
            showSection('content-agenda'); 
        });
        
        // Expor a função loadDailyAgenda para o botão "HOJE" (AGORA É UM WRAPPER SEGURO)
        window.loadDailyAgenda = (dayKey) => {
             // 1. Atualiza o dia global
             activeDay = dayKey;
             // 2. Redireciona para a aba Agenda (que internamente chama renderAgendaDay)
             showSection('content-agenda');
             // Não é necessário chamar renderAgendaDay(dayKey) aqui, pois showSection fará isso.
        };
        // Expor a função de renderização (caso seja necessária em outra função)
        window.renderAgendaDay = renderAgendaDay;
    </script>
</body>
</html>
